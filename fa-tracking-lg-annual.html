<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="UTF-8">
<title>FA Tracking ‚Äì ‡∏õ‡∏£‡∏∞‡∏à‡∏≥‡∏õ‡∏µ ‡∏≠‡∏õ‡∏ó.</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<style>
  :root{
    --bg:#020617;
    --card:#020617;
    --border:#1f2937;
    --muted:#9ca3af;
    --accent:#0ea5e9;
  }
  *{box-sizing:border-box;margin:0;padding:0;}
  body{
    font-family:"Segoe UI",Arial,sans-serif;
    background:radial-gradient(circle at 0 0,rgba(56,189,248,.35) 0,transparent 55%),
               radial-gradient(circle at 100% 100%,rgba(37,99,235,.25) 0,transparent 55%),
               #020617;
    color:#e5e7eb;
  }
  header{
    padding:16px 12px;
    background:linear-gradient(120deg,#0f172a,#0ea5e9,#22c55e);
    box-shadow:0 8px 24px rgba(0,0,0,.7);
  }
  .h-inner{
    max-width:1180px;
    margin:0 auto;
    display:flex;
    justify-content:space-between;
    flex-wrap:wrap;
    gap:10px;
  }
  .h-left h1{margin:0;font-size:20px;font-weight:800;}
  .h-left p{margin:2px 0;font-size:12px;color:#cbd5f5;}
  .h-right{
    font-size:11px;
    text-align:right;
    color:#cbd5f5;
  }
  .h-right a{
    color:#e0f2fe;
    text-decoration:none;
    margin-left:6px;
  }
  .wrap{
    max-width:1180px;
    margin:16px auto 26px;
    padding:0 12px 20px;
  }
  .summary{
    font-size:12px;
    color:var(--muted);
    margin-bottom:10px;
  }
  .filters{
    display:flex;
    flex-wrap:wrap;
    gap:8px;
    font-size:11px;
    margin-bottom:10px;
  }
  .filters label{
    display:flex;
    flex-direction:column;
    gap:2px;
  }
  .filters select,
  .filters input{
    padding:4px 6px;
    border-radius:999px;
    border:1px solid var(--border);
    background:#020617;
    color:#e5e7eb;
    font-size:11px;
  }
  .summary-box{
    margin-bottom:8px;
    padding:7px 9px;
    border-radius:10px;
    border:1px solid var(--border);
    background:#030712;
    font-size:11px;
    color:var(--muted);
  }
  .table-wrap{
    border-radius:10px;
    border:1px solid var(--border);
    overflow:auto;
    background:#030712;
    max-height:460px;
  }
  table{
    width:100%;
    border-collapse:collapse;
    font-size:11px;
  }
  th,td{
    padding:4px 6px;
    border-bottom:1px solid #111827;
    white-space:nowrap;
  }
  th{
    position:sticky;
    top:0;
    background:#020617;
    z-index:1;
  }
  tr:hover td{
    background:#020617;
  }
  .step-col{
    text-align:center;
    font-variant-numeric:tabular-nums;
  }
  .badge-done{color:#4ade80;}
  .badge-current{color:#facc15;}
  .badge-none{color:#4b5563;}
  .nav-buttons{
    margin-top:10px;
    display:flex;
    flex-wrap:wrap;
    gap:8px;
    font-size:11px;
  }
  .nav-buttons a{
    text-decoration:none;
    padding:5px 10px;
    border-radius:999px;
    border:1px solid var(--border);
    background:#020617;
    color:var(--muted);
  }
</style>
</head>
<body>

<header>
  <div class="h-inner">
    <div class="h-left">
      <h1>FA Tracking ‚Äì ‡∏Å‡∏≤‡∏£‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö FA ‡∏õ‡∏£‡∏∞‡∏à‡∏≥‡∏õ‡∏µ ‡∏Ç‡∏≠‡∏á ‡∏≠‡∏õ‡∏ó.</h1>
      <p>Annual Financial Audit ‚Äì Local Government Entities (2562‚Äì2590)</p>
    </div>
    <div class="h-right">
      ‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ: <span id="userEmail">-</span><br>
      Session: <span id="sessionInfo">-</span><br>
      <a href="index.html">üè† Index</a>
      <a href="fa-tracking.html">üìå ‡πÄ‡∏°‡∏ô‡∏π‡∏ï‡∏¥‡∏î‡∏ï‡∏≤‡∏°‡∏ú‡∏•</a>
      <a href="fa-login.html">üîê Login</a>
    </div>
  </div>
</header>

<div class="wrap">
  <div class="summary">
    ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏õ‡∏µ / ‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏±‡∏î / ‡∏≠‡∏≥‡πÄ‡∏†‡∏≠ ‡∏´‡∏£‡∏∑‡∏≠‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏ä‡∏∑‡πà‡∏≠‡∏´‡∏ô‡πà‡∏ß‡∏¢ ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏î‡∏π‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ñ‡∏∑‡∏ö‡∏´‡∏ô‡πâ‡∏≤‡∏Ç‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö FA ‡∏õ‡∏£‡∏∞‡∏à‡∏≥‡∏õ‡∏µ ‡∏Ç‡∏≠‡∏á ‡∏≠‡∏õ‡∏ó.
  </div>

  <div class="filters">
    <label>‡∏õ‡∏µ‡∏á‡∏ö‡∏õ‡∏£‡∏∞‡∏°‡∏≤‡∏ì
      <select id="filterYear"></select>
    </label>
    <label>‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏±‡∏î
      <select id="filterProvince"></select>
    </label>
    <label>‡∏≠‡∏≥‡πÄ‡∏†‡∏≠
      <select id="filterAmphoe"></select>
    </label>
    <label>‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤ (‡∏ä‡∏∑‡πà‡∏≠‡∏´‡∏ô‡πà‡∏ß‡∏¢/‡∏ï‡∏≥‡∏ö‡∏•)
      <input type="text" id="searchText" placeholder="‡∏û‡∏¥‡∏°‡∏û‡πå‡∏Ñ‡∏≥‡∏Ñ‡πâ‡∏ô...">
    </label>
  </div>

  <div class="summary-box" id="hoverSummary">
    ‡∏ô‡∏≥‡πÄ‡∏°‡∏≤‡∏™‡πå‡πÑ‡∏õ‡∏ß‡∏≤‡∏á‡∏ó‡∏µ‡πà‡πÅ‡∏ñ‡∏ß‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏î‡∏π‡∏™‡∏£‡∏∏‡∏õ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡πÅ‡∏ö‡∏ö‡∏¢‡πà‡∏≠ (‡∏õ‡∏µ / ‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏±‡∏î / ‡∏´‡∏ô‡πà‡∏ß‡∏¢ / ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞ / ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô)
  </div>

  <div class="table-wrap">
    <table>
      <thead>
        <tr>
          <th>‡∏•‡∏≥‡∏î‡∏±‡∏ö</th>
          <th>‡∏õ‡∏µ</th>
          <th>‡∏ä‡∏∑‡πà‡∏≠‡∏´‡∏ô‡πà‡∏ß‡∏¢ (‡∏≠‡∏õ‡∏ó.)</th>
          <th>‡∏ï‡∏≥‡∏ö‡∏•</th>
          <th>‡∏≠‡∏≥‡πÄ‡∏†‡∏≠</th>
          <th>‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏±‡∏î</th>
          <th>‡πÄ‡∏õ‡∏¥‡∏î‡∏Å‡∏≤‡∏£‡∏ï‡∏£‡∏ß‡∏à</th>
          <th>‡∏ï‡∏£‡∏ß‡∏à‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£</th>
          <th>‡∏Å‡∏£‡∏∞‡∏î‡∏≤‡∏©‡∏ó‡∏≥‡∏Å‡∏≤‡∏£</th>
          <th>‡∏õ‡∏£‡∏∞‡∏ä‡∏∏‡∏°‡∏õ‡∏¥‡∏î‡∏ï‡∏£‡∏ß‡∏à</th>
          <th>‡∏ä‡∏µ‡πâ‡πÅ‡∏à‡∏á</th>
          <th>‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡∏ú‡∏•</th>
          <th>‡∏™‡πà‡∏á ‡∏ú‡∏≠‡∏Å ‡∏™‡∏≠‡∏ö‡∏ó‡∏≤‡∏ô</th>
          <th>‡πÅ‡∏à‡πâ‡∏á‡∏ú‡∏•</th>
          <th>‡∏ï‡∏¥‡∏î‡∏ï‡∏≤‡∏°‡∏ú‡∏•</th>
        </tr>
      </thead>
      <tbody id="tbody"></tbody>
    </table>
  </div>

  <div class="nav-buttons">
    <a href="index.html">‚¨Ö ‡∏Å‡∏•‡∏±‡∏ö‡∏´‡∏ô‡πâ‡∏≤ Index</a>
    <a href="fa-tracking.html">üìå ‡∏Å‡∏•‡∏±‡∏ö‡∏´‡∏ô‡πâ‡∏≤‡πÄ‡∏°‡∏ô‡∏π‡∏ï‡∏¥‡∏î‡∏ï‡∏≤‡∏°‡∏ú‡∏•</a>
    <a href="fa-login.html">üîê ‡πÑ‡∏õ‡∏´‡∏ô‡πâ‡∏≤ Login</a>
  </div>
</div>

<script>
/* ‡πÉ‡∏ä‡πâ session ‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏Å‡∏±‡∏ö‡∏£‡∏∞‡∏ö‡∏ö‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô */
function checkSession(){
  let raw = localStorage.getItem("fas-session");
  if(!raw){ location.href="fa-login.html"; return; }
  try{
    const s = JSON.parse(raw);
    if(Date.now()>s.expiresAt){
      localStorage.removeItem("fas-session");
      location.href="fa-login.html";
      return;
    }
    document.getElementById("userEmail").textContent = s.email || "-";
    document.getElementById("sessionInfo").textContent =
      "‡∏´‡∏°‡∏î‡∏≠‡∏≤‡∏¢‡∏∏ " + new Date(s.expiresAt).toLocaleString("th-TH");
  }catch{
    location.href="fa-login.html";
  }
}
checkSession();

/* MOCK DATA: ‡∏à‡∏≥‡∏•‡∏≠‡∏á‡∏ß‡πà‡∏≤‡∏î‡∏∂‡∏á‡∏à‡∏≤‡∏Å‡∏£‡∏∞‡∏ö‡∏ö‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏Å‡∏≤‡∏£‡πÄ‡∏á‡∏¥‡∏ô (Annual ‚Äì LG) */
const allData = [
  {year:2568, name:"‡∏ó‡∏ï.‡∏´‡∏ô‡∏≠‡∏á‡∏Ñ‡∏£‡∏Å", tambon:"‡∏´‡∏ô‡∏≠‡∏á‡∏Ñ‡∏£‡∏Å", amphoe:"‡πÄ‡∏°‡∏∑‡∏≠‡∏á‡∏®‡∏£‡∏µ‡∏™‡∏∞‡πÄ‡∏Å‡∏©", province:"‡∏®‡∏£‡∏µ‡∏™‡∏∞‡πÄ‡∏Å‡∏©", stage:8},
  {year:2568, name:"‡∏≠‡∏ö‡∏ï.‡∏ä‡∏≥", tambon:"‡∏ä‡∏≥", amphoe:"‡∏Å‡∏±‡∏ô‡∏ó‡∏£‡∏•‡∏±‡∏Å‡∏©‡πå", province:"‡∏®‡∏£‡∏µ‡∏™‡∏∞‡πÄ‡∏Å‡∏©", stage:6},
  {year:2568, name:"‡∏≠‡∏ö‡∏ï.‡∏î‡∏π‡∏ô", tambon:"‡∏î‡∏π‡∏ô", amphoe:"‡∏Å‡∏±‡∏ô‡∏ó‡∏£‡∏≤‡∏£‡∏°‡∏¢‡πå", province:"‡∏®‡∏£‡∏µ‡∏™‡∏∞‡πÄ‡∏Å‡∏©", stage:8},
  {year:2567, name:"‡∏ó‡∏ô.‡∏ß‡∏≤‡∏£‡∏¥‡∏ô‡∏ä‡∏≥‡∏£‡∏≤‡∏ö", tambon:"‡∏ß‡∏≤‡∏£‡∏¥‡∏ô‡∏ä‡∏≥‡∏£‡∏≤‡∏ö", amphoe:"‡∏ß‡∏≤‡∏£‡∏¥‡∏ô‡∏ä‡∏≥‡∏£‡∏≤‡∏ö", province:"‡∏≠‡∏∏‡∏ö‡∏•‡∏£‡∏≤‡∏ä‡∏ò‡∏≤‡∏ô‡∏µ", stage:5},
  {year:2567, name:"‡∏≠‡∏ö‡∏à.‡∏≠‡∏∏‡∏ö‡∏•‡∏£‡∏≤‡∏ä‡∏ò‡∏≤‡∏ô‡∏µ", tambon:"‡πÉ‡∏ô‡πÄ‡∏°‡∏∑‡∏≠‡∏á", amphoe:"‡πÄ‡∏°‡∏∑‡∏≠‡∏á‡∏≠‡∏∏‡∏ö‡∏•‡∏£‡∏≤‡∏ä‡∏ò‡∏≤‡∏ô‡∏µ", province:"‡∏≠‡∏∏‡∏ö‡∏•‡∏£‡∏≤‡∏ä‡∏ò‡∏≤‡∏ô‡∏µ", stage:4},
  {year:2566, name:"‡∏≠‡∏ö‡∏ï.‡πÄ‡∏ä‡∏µ‡∏¢‡∏á‡πÄ‡∏û‡πá‡∏á", tambon:"‡πÄ‡∏ä‡∏µ‡∏¢‡∏á‡πÄ‡∏û‡πá‡∏á", amphoe:"‡∏Ñ‡∏≥‡πÄ‡∏Ç‡∏∑‡πà‡∏≠‡∏ô‡πÅ‡∏Å‡πâ‡∏ß", province:"‡∏¢‡πÇ‡∏™‡∏ò‡∏£", stage:2},
  {year:2566, name:"‡∏≠‡∏ö‡∏ï.‡∏Ç‡∏ô‡∏∏‡∏ô", tambon:"‡∏Ç‡∏ô‡∏∏‡∏ô", amphoe:"‡∏Å‡∏±‡∏ô‡∏ó‡∏£‡∏•‡∏±‡∏Å‡∏©‡πå", province:"‡∏®‡∏£‡∏µ‡∏™‡∏∞‡πÄ‡∏Å‡∏©", stage:1},
];

/* stage: 
0 ‡πÄ‡∏õ‡∏¥‡∏î‡∏Å‡∏≤‡∏£‡∏ï‡∏£‡∏ß‡∏à‡πÅ‡∏•‡πâ‡∏ß
1 ‡∏ï‡∏£‡∏ß‡∏à‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£
2 ‡∏Å‡∏£‡∏∞‡∏î‡∏≤‡∏©‡∏ó‡∏≥‡∏Å‡∏≤‡∏£
3 ‡∏õ‡∏£‡∏∞‡∏ä‡∏∏‡∏°‡∏õ‡∏¥‡∏î‡∏ï‡∏£‡∏ß‡∏à
4 ‡∏ä‡∏µ‡πâ‡πÅ‡∏à‡∏á
5 ‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡∏ú‡∏•
6 ‡∏™‡πà‡∏á ‡∏ú‡∏≠‡∏Å
7 ‡πÅ‡∏à‡πâ‡∏á‡∏ú‡∏•
8 ‡∏ï‡∏¥‡∏î‡∏ï‡∏≤‡∏°‡∏ú‡∏•
*/

const YEARS = [];
for(let y=2562; y<=2590; y++){ YEARS.push(y); }

const selYear     = document.getElementById("filterYear");
const selProv     = document.getElementById("filterProvince");
const selAmphoe   = document.getElementById("filterAmphoe");
const searchInput = document.getElementById("searchText");
const tbody       = document.getElementById("tbody");
const hoverSummary= document.getElementById("hoverSummary");

function initFilters(){
  selYear.innerHTML = "";
  YEARS.forEach(y=>{
    const opt = document.createElement("option");
    opt.value = y;
    opt.textContent = y;
    selYear.appendChild(opt);
  });
  selYear.value = new Date().getFullYear()+543; // ‡∏õ‡∏µ‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô ‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏à‡∏∞‡∏≠‡∏¢‡∏π‡πà‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î

  const provSet = new Set(allData.map(d=>d.province));
  selProv.innerHTML = `<option value="ALL">‡∏ó‡∏∏‡∏Å‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏±‡∏î</option>`;
  [...provSet].sort().forEach(p=>{
    const opt = document.createElement("option");
    opt.value = p;
    opt.textContent = p;
    selProv.appendChild(opt);
  });
  updateAmphoe();
}

function updateAmphoe(){
  const p = selProv.value;
  let data = allData;
  if(p!=="ALL") data = data.filter(d=>d.province===p);
  const amphSet = new Set(data.map(d=>d.amphoe));
  selAmphoe.innerHTML = `<option value="ALL">‡∏ó‡∏∏‡∏Å‡∏≠‡∏≥‡πÄ‡∏†‡∏≠</option>`;
  [...amphSet].sort().forEach(a=>{
    const opt = document.createElement("option");
    opt.value = a;
    opt.textContent = a;
    selAmphoe.appendChild(opt);
  });
}

function filtered(){
  const y = Number(selYear.value || 0);
  const p = selProv.value;
  const a = selAmphoe.value;
  const q = (searchInput.value || "").trim().toLowerCase();
  return allData.filter(d=>{
    if(y && d.year!==y) return false;
    if(p!=="ALL" && d.province!==p) return false;
    if(a!=="ALL" && d.amphoe!==a) return false;
    if(q){
      const text = (d.name+d.tambon).toLowerCase();
      if(!text.includes(q)) return false;
    }
    return true;
  });
}

function stepLabel(rowStage, stepIndex){
  if(stepIndex===0){
    // ‡πÄ‡∏õ‡∏¥‡∏î‡∏Å‡∏≤‡∏£‡∏ï‡∏£‡∏ß‡∏à: ‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÄ‡∏õ‡∏¥‡∏î / ‡πÄ‡∏õ‡∏¥‡∏î‡∏ï‡∏£‡∏ß‡∏à
    return rowStage>=0 ? '<span class="badge-done">‡πÄ‡∏õ‡∏¥‡∏î‡∏ï‡∏£‡∏ß‡∏à</span>' :
                         '<span class="badge-none">‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÄ‡∏õ‡∏¥‡∏î</span>';
  }
  if(rowStage>stepIndex) return '<span class="badge-done">‚úì</span>';
  if(rowStage===stepIndex) return '<span class="badge-current">‚óè</span>';
  return '<span class="badge-none">‚Äì</span>';
}

function currentStageText(stage){
  const names=[
    "‡πÄ‡∏õ‡∏¥‡∏î‡∏Å‡∏≤‡∏£‡∏ï‡∏£‡∏ß‡∏à‡πÅ‡∏•‡πâ‡∏ß",
    "‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£",
    "‡∏à‡∏±‡∏î‡∏ó‡∏≥‡∏Å‡∏£‡∏∞‡∏î‡∏≤‡∏©‡∏ó‡∏≥‡∏Å‡∏≤‡∏£",
    "‡∏õ‡∏£‡∏∞‡∏ä‡∏∏‡∏°‡∏õ‡∏¥‡∏î‡∏ï‡∏£‡∏ß‡∏à",
    "‡πÉ‡∏´‡πâ‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏£‡∏±‡∏ö‡∏ï‡∏£‡∏ß‡∏à‡∏ä‡∏µ‡πâ‡πÅ‡∏à‡∏á",
    "‡∏à‡∏±‡∏î‡∏ó‡∏≥‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö",
    "‡∏™‡πà‡∏á ‡∏ú‡∏≠‡∏Å ‡∏™‡∏≠‡∏ö‡∏ó‡∏≤‡∏ô‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô",
    "‡πÅ‡∏à‡πâ‡∏á‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö",
    "‡∏ï‡∏¥‡∏î‡∏ï‡∏≤‡∏°‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö"
  ];
  return names[stage]||"‡πÑ‡∏°‡πà‡∏£‡∏∞‡∏ö‡∏∏";
}

function render(){
  const data = filtered();
  tbody.innerHTML = "";
  data.forEach((d,idx)=>{
    const tr = document.createElement("tr");
    tr.innerHTML = `
      <td>${idx+1}</td>
      <td>${d.year}</td>
      <td>${d.name}</td>
      <td>${d.tambon}</td>
      <td>${d.amphoe}</td>
      <td>${d.province}</td>
      <td class="step-col">${stepLabel(d.stage,0)}</td>
      <td class="step-col">${stepLabel(d.stage,1)}</td>
      <td class="step-col">${stepLabel(d.stage,2)}</td>
      <td class="step-col">${stepLabel(d.stage,3)}</td>
      <td class="step-col">${stepLabel(d.stage,4)}</td>
      <td class="step-col">${stepLabel(d.stage,5)}</td>
      <td class="step-col">${stepLabel(d.stage,6)}</td>
      <td class="step-col">${stepLabel(d.stage,7)}</td>
      <td class="step-col">${stepLabel(d.stage,8)}</td>
    `;
    tr.addEventListener("mouseenter",()=>{
      hoverSummary.textContent =
        `‡∏õ‡∏µ ${d.year} | ${d.name} (${d.tambon}, ${d.amphoe}, ${d.province}) `+
        `‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô: ${currentStageText(d.stage)}`;
    });
    tbody.appendChild(tr);
  });
  if(data.length===0){
    hoverSummary.textContent = "‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ï‡∏≤‡∏°‡∏ï‡∏±‡∏ß‡∏Å‡∏£‡∏≠‡∏á‡∏ó‡∏µ‡πà‡πÄ‡∏•‡∏∑‡∏≠‡∏Å";
  }
}

selProv.addEventListener("change",()=>{updateAmphoe();render();});
selAmphoe.addEventListener("change",render);
selYear.addEventListener("change",render);
searchInput.addEventListener("input",render);

initFilters();
render();
</script>

</body>
</html>