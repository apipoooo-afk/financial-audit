<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8" />
  <title>Login | Financial Audit System</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    :root{
      --primary:#0d47a1;
      --primary-2:#42a5f5;
      --accent:#ffd54f;
      --bg:#060818;
      --bg-soft:#0b1024;
      --card:#11152b;
      --text:#f5f7ff;
      --muted:#a3acc7;
      --maroon:#7b1e3c;
      --pink:#f48fb1;
      --border:#262b46;
    }
    *{box-sizing:border-box;}
    body{
      margin:0;
      font-family:"Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
      background:
        radial-gradient(circle at 10% 0%, rgba(123,30,60,0.36) 0, transparent 55%),
        radial-gradient(circle at 90% 100%, rgba(66,165,245,0.32) 0, transparent 55%),
        radial-gradient(circle at 0% 100%, rgba(244,143,177,0.25) 0, transparent 55%),
        var(--bg);
      color:var(--text);
    }
    a{color:var(--pink); text-decoration:none;}
    a:hover{text-decoration:underline;}

    header{
      position:sticky; top:0; z-index:20;
      background:linear-gradient(120deg,var(--maroon),var(--primary),var(--pink));
      box-shadow:0 10px 28px rgba(0,0,0,.55);
      border-bottom:1px solid rgba(255,255,255,0.06);
      backdrop-filter:blur(16px);
    }
    .container{max-width:980px; margin:0 auto; padding:0 20px;}
    .header-inner{
      display:flex; justify-content:space-between; align-items:center;
      padding:10px 0; gap:16px;
    }
    .brand{
      display:flex; align-items:center; gap:10px;
      font-weight:700; font-size:17px;
    }
    .brand img{
      height:40px; border-radius:50%; background:#fff; padding:4px;
    }
    nav ul{
      list-style:none; display:flex; gap:8px; margin:0; padding:0; flex-wrap:wrap;
    }
    nav a{
      color:#fff; font-size:12px;
      padding:5px 10px;
      border-radius:999px;
      border:1px solid rgba(255,255,255,0.18);
      background:rgba(0,0,0,0.12);
    }
    nav a:hover{
      background:rgba(255,255,255,0.2);
    }

    main{padding:28px 0 40px;}
    h1{
      margin:4px 0 2px;
      font-size:24px;
    }
    p.muted-heading{
      margin:0; font-size:12px; color:var(--muted);
    }

    .grid-2{display:grid; grid-template-columns:1.3fr 0.7fr; gap:20px; margin-top:20px;}
    .grid-3{display:grid; grid-template-columns:repeat(3,1fr); gap:18px; margin-top:18px;}
    .card{
      background:linear-gradient(145deg,rgba(17,21,43,0.96),rgba(25,31,60,0.98));
      border-radius:14px;
      border:1px solid rgba(255,255,255,0.08);
      padding:18px 18px 16px;
      box-shadow:0 14px 34px rgba(0,0,0,.8);
    }
    h2{font-size:18px; margin:0 0 6px;}
    h3{font-size:15px; margin:0 0 6px;}
    .muted{font-size:12px; color:var(--muted);}

    label{
      display:block; margin-top:8px; margin-bottom:4px;
      font-size:12px; font-weight:600;
    }
    input[type="text"],
    input[type="email"],
    input[type="password"],
    input[type="tel"]{
      width:100%;
      padding:8px 9px;
      border-radius:9px;
      border:1px solid rgba(255,255,255,0.12);
      background:rgba(5,8,26,0.9);
      color:#fff;
      font-size:13px;
      outline:none;
    }
    input:focus{
      border-color:var(--pink);
      box-shadow:0 0 0 1px rgba(244,143,177,0.4);
    }
    .inline-row{
      display:flex; gap:8px; flex-wrap:wrap;
    }
    .inline-row > div{flex:1 1 0;}
    button{
      padding:9px 14px;
      border-radius:999px;
      border:none;
      cursor:pointer;
      font-size:13px;
      font-weight:700;
      color:#fff;
      background:linear-gradient(135deg,var(--primary-2),var(--maroon));
      box-shadow:0 6px 16px rgba(13,71,161,0.7);
    }
    button:hover{
      filter:brightness(1.04);
      box-shadow:0 0 16px rgba(66,165,245,0.85);
    }
    .btn-ghost{
      background:rgba(0,0,0,0.35);
      box-shadow:none;
      border:1px solid rgba(255,255,255,0.14);
    }
    .checkbox-row{
      display:flex; align-items:center; gap:6px;
      font-size:11px; margin-top:6px;
    }
    .status-badge{
      display:inline-block;
      padding:4px 9px;
      border-radius:999px;
      font-size:11px;
      border:1px solid rgba(255,255,255,0.2);
      margin-top:4px;
    }
    .status-pending{color:#ffca28; border-color:#ffca28;}
    .status-approved{color:#69f0ae; border-color:#69f0ae;}
    .msg{font-size:11px; margin-top:6px; min-height:14px;}

    footer{
      border-top:1px solid rgba(255,255,255,0.1);
      padding:12px 0 16px;
      background:#050714;
      font-size:11px;
      color:var(--muted);
    }
    footer .container{
      display:flex; justify-content:space-between; gap:10px; flex-wrap:wrap;
    }

    @media(max-width:900px){
      .grid-2{grid-template-columns:1fr;}
    }
    @media(max-width:720px){
      .grid-3{grid-template-columns:1fr;}
    }
  </style>
</head>
<body>
  <header>
    <div class="container header-inner">
      <div class="brand">
        <img src="images/oag-logo.png" alt="OAG">
        <div>
          Financial Audit System
          <div style="font-size:11px; opacity:.85;">Login &amp; Identity Management</div>
        </div>
      </div>
      <nav>
        <ul>
          <li><a href="index.html">üè† ‡∏´‡∏ô‡πâ‡∏≤‡πÅ‡∏£‡∏Å</a></li>
          <li><a href="login.html">üîê Login</a></li>
          <li><a href="admin.html" target="_blank">üßë‚Äçüíº Admin</a></li>
        </ul>
      </nav>
    </div>
  </header>

  <main>
    <div class="container">
      <h1>‡∏£‡∏∞‡∏ö‡∏ö Login ‡πÅ‡∏•‡∏∞‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏ö‡∏±‡∏ç‡∏ä‡∏µ‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ</h1>
      <p class="muted-heading">
        ‡∏£‡∏∞‡∏ö‡∏ö‡∏ô‡∏µ‡πâ‡πÉ‡∏ä‡πâ‡∏£‡πà‡∏ß‡∏°‡∏Å‡∏±‡∏ö‡∏ó‡∏∏‡∏Å‡πÇ‡∏°‡∏î‡∏π‡∏• ‡∏¢‡∏Å‡πÄ‡∏ß‡πâ‡∏ô‡∏´‡∏ô‡πâ‡∏≤ Admin (‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏ú‡∏π‡πâ‡∏°‡∏µ‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô) ‚Ä¢ ‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô‡πÉ‡∏´‡∏°‡πà, ‡∏•‡∏∑‡∏°‡∏£‡∏´‡∏±‡∏™, ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏£‡∏´‡∏±‡∏™ ‡πÅ‡∏•‡∏∞‡∏à‡∏≥‡∏£‡∏´‡∏±‡∏™‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏ä‡πâ‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î 6 ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô
      </p>

      <!-- ‡πÅ‡∏ñ‡∏ß‡∏ö‡∏ô: Login + Info -->
      <div class="grid-2">
        <div class="card">
          <h2>üîê Login ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ú‡∏π‡πâ‡∏°‡∏µ‡∏£‡∏´‡∏±‡∏™‡πÅ‡∏•‡πâ‡∏ß</h2>
          <p class="muted">
            ‡∏Å‡∏£‡∏≠‡∏Å‡∏≠‡∏µ‡πÄ‡∏°‡∏•‡πÅ‡∏•‡∏∞‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡∏ú‡πà‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥‡πÅ‡∏•‡πâ‡∏ß ‡∏´‡∏≤‡∏Å‡πÄ‡∏•‡∏∑‡∏≠‡∏Å "‡∏à‡∏≥‡∏Å‡∏≤‡∏£‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö" ‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏∞‡∏à‡∏≥‡πÑ‡∏°‡πà‡πÄ‡∏Å‡∏¥‡∏ô 6 ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô
          </p>
          <form id="loginForm">
            <label for="loginEmail">‡∏≠‡∏µ‡πÄ‡∏°‡∏•</label>
            <input type="email" id="loginEmail" required>

            <label for="loginPassword">‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô</label>
            <input type="password" id="loginPassword" required>

            <div class="checkbox-row">
              <input type="checkbox" id="rememberMe">
              <label for="rememberMe" style="margin:0;">‡∏à‡∏≥‡∏Å‡∏≤‡∏£‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö (‡πÑ‡∏°‡πà‡πÄ‡∏Å‡∏¥‡∏ô 6 ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô)</label>
            </div>

            <div class="checkbox-row">
              <input type="checkbox" id="loginHuman" required>
              <label for="loginHuman" style="margin:0;">‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏ß‡πà‡∏≤‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà‡∏´‡∏∏‡πà‡∏ô‡∏¢‡∏ô‡∏ï‡πå ‡πÅ‡∏•‡∏∞‡∏¢‡∏≠‡∏°‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ï‡∏≤‡∏°‡∏£‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ö‡∏Ç‡∏≠‡∏á ‡∏™‡∏ï‡∏á.</label>
            </div>

            <div style="margin-top:10px; display:flex; gap:8px; flex-wrap:wrap;">
              <button type="submit">‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö</button>
              <button type="button" class="btn-ghost" onclick="window.location.href='index.html'">‡∏Å‡∏•‡∏±‡∏ö‡∏´‡∏ô‡πâ‡∏≤‡πÅ‡∏£‡∏Å</button>
            </div>
            <div id="loginMsg" class="msg"></div>
            <div id="loginStatus" class="status-badge" style="display:none;"></div>
          </form>
        </div>

        <div class="card">
          <h3>üõ° ‡∏ô‡πÇ‡∏¢‡∏ö‡∏≤‡∏¢‡πÅ‡∏•‡∏∞‡∏ö‡∏ó‡∏ö‡∏≤‡∏ó</h3>
          <ul class="muted">
            <li>‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ‡∏ó‡∏µ‡πà‡∏ú‡πà‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥‡πÅ‡∏•‡πâ‡∏ß‡∏à‡∏∞‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡πÑ‡∏î‡πâ‡∏ó‡∏∏‡∏Å‡∏£‡∏∞‡∏ö‡∏ö ‡∏¢‡∏Å‡πÄ‡∏ß‡πâ‡∏ô Admin</li>
            <li>‡πÄ‡∏â‡∏û‡∏≤‡∏∞ <strong>super_admin / admin / admin1</strong> ‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏Ç‡πâ‡∏≤‡∏´‡∏ô‡πâ‡∏≤ Admin ‡πÑ‡∏î‡πâ</li>
            <li>‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô‡πÉ‡∏´‡∏°‡πà‡πÅ‡∏•‡∏∞‡∏Ñ‡∏≥‡∏Ç‡∏≠‡∏•‡∏∑‡∏°‡∏£‡∏´‡∏±‡∏™‡∏à‡∏∞‡∏ñ‡∏π‡∏Å‡∏™‡πà‡∏á‡πÉ‡∏´‡πâ super_admin, admin, admin1 ‡∏û‡∏¥‡∏à‡∏≤‡∏£‡∏ì‡∏≤‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥</li>
            <li>‡∏ó‡∏∏‡∏Å‡∏Å‡∏≤‡∏£‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• ‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏∞‡∏ñ‡∏≤‡∏°‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏Å‡πà‡∏≠‡∏ô‡πÄ‡∏™‡∏°‡∏≠ (‚Äú‡∏Ñ‡∏∏‡∏ì‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô ‡∏Å‡∏î‡πÇ‡∏≠‡πÄ‡∏Ñ‚Äù)</li>
            <li>‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô‡∏Ñ‡∏ß‡∏£‡∏°‡∏µ‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ô‡πâ‡∏≠‡∏¢ 8 ‡∏ï‡∏±‡∏ß‡∏≠‡∏±‡∏Å‡∏©‡∏£ ‡∏ú‡∏™‡∏°‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏Ç ‡πÅ‡∏•‡∏∞‡∏ï‡∏±‡∏ß‡∏≠‡∏±‡∏Å‡∏©‡∏£</li>
          </ul>
        </div>
      </div>

      <!-- ‡πÅ‡∏ñ‡∏ß‡∏•‡πà‡∏≤‡∏á: Register / Forgot / Change -->
      <div id="register-section" class="grid-3">
        <!-- Register -->
        <div class="card">
          <h3>üìù ‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô (‡∏ú‡∏π‡πâ‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏£‡∏´‡∏±‡∏™)</h3>
          <p class="muted">
            ‡∏Å‡∏£‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÉ‡∏´‡πâ‡∏Ñ‡∏£‡∏ö‡∏ñ‡πâ‡∏ß‡∏ô ‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏∞‡∏™‡πà‡∏á‡∏Ñ‡∏≥‡∏Ç‡∏≠‡πÑ‡∏õ‡∏¢‡∏±‡∏á super_admin, admin, admin1 ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥‡πÅ‡∏•‡πâ‡∏ß‡∏à‡∏∂‡∏á‡∏à‡∏∞‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡πÑ‡∏î‡πâ
          </p>
          <form id="registerForm">
            <div class="inline-row">
              <div>
                <label for="regFirstName">‡∏ä‡∏∑‡πà‡∏≠</label>
                <input type="text" id="regFirstName" required>
              </div>
              <div>
                <label for="regLastName">‡∏ô‡∏≤‡∏°‡∏™‡∏Å‡∏∏‡∏•</label>
                <input type="text" id="regLastName" required>
              </div>
            </div>

            <label for="regCitizenId">‡πÄ‡∏•‡∏Ç‡∏ö‡∏±‡∏ï‡∏£‡∏õ‡∏£‡∏∞‡∏ä‡∏≤‡∏ä‡∏ô</label>
            <input type="text" id="regCitizenId" maxlength="13" required>

            <label for="regGovId">‡πÄ‡∏•‡∏Ç‡∏ö‡∏±‡∏ï‡∏£‡∏Ç‡πâ‡∏≤‡∏£‡∏≤‡∏ä‡∏Å‡∏≤‡∏£</label>
            <input type="text" id="regGovId" required>

            <label for="regPosition">‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á</label>
            <input type="text" id="regPosition" required>

            <label for="regEmail">‡∏≠‡∏µ‡πÄ‡∏°‡∏•</label>
            <input type="email" id="regEmail" required>

            <label for="regPhone">‡πÄ‡∏ö‡∏≠‡∏£‡πå‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠</label>
            <input type="tel" id="regPhone" required>

            <div class="inline-row">
              <div>
                <label for="regPassword">‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô (‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ô‡πâ‡∏≠‡∏¢ 8 ‡∏ï‡∏±‡∏ß)</label>
                <input type="password" id="regPassword" minlength="8" required>
              </div>
              <div>
                <label for="regPassword2">‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á</label>
                <input type="password" id="regPassword2" minlength="8" required>
              </div>
            </div>

            <label for="regHumanCheck">‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏ß‡πà‡∏≤‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà‡∏´‡∏∏‡πà‡∏ô‡∏¢‡∏ô‡∏ï‡πå (‡∏û‡∏¥‡∏°‡∏û‡πå‡∏Ñ‡∏≥‡∏ß‡πà‡∏≤ ‚Äú‡∏™‡∏ï‡∏á.‚Äù)</label>
            <input type="text" id="regHumanCheck" placeholder="‡∏û‡∏¥‡∏°‡∏û‡πå‡∏Ñ‡∏≥‡∏ß‡πà‡∏≤ ‡∏™‡∏ï‡∏á." required>

            <div style="margin-top:10px;">
              <button type="submit">‡∏™‡πà‡∏á‡∏Ñ‡∏≥‡∏Ç‡∏≠‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô</button>
            </div>
            <div id="regMsg" class="msg"></div>
            <div class="status-badge status-pending" id="regStatusBadge" style="display:none;">
              ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞: ‡∏£‡∏≠‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥‡∏à‡∏≤‡∏Å super_admin / admin / admin1
            </div>
          </form>
        </div>

        <!-- Forgot password -->
        <div class="card">
          <h3>‚ùì ‡∏•‡∏∑‡∏°‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô</h3>
          <p class="muted">
            ‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏∞‡∏™‡πà‡∏á‡∏Ñ‡∏≥‡∏Ç‡∏≠‡∏£‡∏µ‡πÄ‡∏ã‡πá‡∏ï‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô‡πÉ‡∏´‡πâ super_admin, admin, admin1 ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡πÅ‡∏•‡∏∞‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥ ‡∏Å‡πà‡∏≠‡∏ô‡∏à‡∏∂‡∏á‡∏à‡∏∞‡πÉ‡∏ä‡πâ‡∏£‡∏´‡∏±‡∏™‡πÉ‡∏´‡∏°‡πà‡πÑ‡∏î‡πâ
          </p>
          <form id="forgotForm">
            <label for="forgotEmail">‡∏≠‡∏µ‡πÄ‡∏°‡∏•‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô</label>
            <input type="email" id="forgotEmail" required>

            <label for="forgotCitizenId">‡πÄ‡∏•‡∏Ç‡∏ö‡∏±‡∏ï‡∏£‡∏õ‡∏£‡∏∞‡∏ä‡∏≤‡∏ä‡∏ô</label>
            <input type="text" id="forgotCitizenId" maxlength="13" required>

            <label for="forgotGovId">‡πÄ‡∏•‡∏Ç‡∏ö‡∏±‡∏ï‡∏£‡∏Ç‡πâ‡∏≤‡∏£‡∏≤‡∏ä‡∏Å‡∏≤‡∏£</label>
            <input type="text" id="forgotGovId" required>

            <div class="inline-row">
              <div>
                <label for="forgotNewPassword">‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô‡πÉ‡∏´‡∏°‡πà (‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ô‡πâ‡∏≠‡∏¢ 8 ‡∏ï‡∏±‡∏ß)</label>
                <input type="password" id="forgotNewPassword" minlength="8" required>
              </div>
              <div>
                <label for="forgotNewPassword2">‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏£‡∏´‡∏±‡∏™‡πÉ‡∏´‡∏°‡πà</label>
                <input type="password" id="forgotNewPassword2" minlength="8" required>
              </div>
            </div>

            <label for="forgotHumanCheck">‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏ß‡πà‡∏≤‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà‡∏´‡∏∏‡πà‡∏ô‡∏¢‡∏ô‡∏ï‡πå (‡∏û‡∏¥‡∏°‡∏û‡πå‡∏Ñ‡∏≥‡∏ß‡πà‡∏≤ ‚Äú‡∏™‡∏ï‡∏á.‚Äù)</label>
            <input type="text" id="forgotHumanCheck" placeholder="‡∏û‡∏¥‡∏°‡∏û‡πå‡∏Ñ‡∏≥‡∏ß‡πà‡∏≤ ‡∏™‡∏ï‡∏á." required>

            <div style="margin-top:10px;">
              <button type="submit">‡∏™‡πà‡∏á‡∏Ñ‡∏≥‡∏Ç‡∏≠‡∏•‡∏∑‡∏°‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô</button>
            </div>
            <div id="forgotMsg" class="msg"></div>
          </form>
        </div>

        <!-- Change password -->
        <div class="card">
          <h3>üîÅ ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô (‡∏à‡∏≥‡∏£‡∏´‡∏±‡∏™‡πÄ‡∏î‡∏¥‡∏°‡πÑ‡∏î‡πâ)</h3>
          <p class="muted">
            ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ú‡∏π‡πâ‡∏ó‡∏µ‡πà‡∏¢‡∏±‡∏á‡∏à‡∏≥‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô‡πÄ‡∏î‡∏¥‡∏°‡πÑ‡∏î‡πâ ‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏£‡∏´‡∏±‡∏™‡πÉ‡∏´‡∏°‡πà‡πÑ‡∏î‡πâ‡∏ó‡∏±‡∏ô‡∏ó‡∏µ ‡πÇ‡∏î‡∏¢‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏£‡∏≠‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥
          </p>
          <form id="changeForm">
            <label for="changeEmail">‡∏≠‡∏µ‡πÄ‡∏°‡∏•‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô</label>
            <input type="email" id="changeEmail" required>

            <label for="changeOldPassword">‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô‡πÄ‡∏î‡∏¥‡∏°</label>
            <input type="password" id="changeOldPassword" required>

            <div class="inline-row">
              <div>
                <label for="changeNewPassword">‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô‡πÉ‡∏´‡∏°‡πà (‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ô‡πâ‡∏≠‡∏¢ 8 ‡∏ï‡∏±‡∏ß)</label>
                <input type="password" id="changeNewPassword" minlength="8" required>
              </div>
              <div>
                <label for="changeNewPassword2">‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏£‡∏´‡∏±‡∏™‡πÉ‡∏´‡∏°‡πà</label>
                <input type="password" id="changeNewPassword2" minlength="8" required>
              </div>
            </div>

            <label for="changeHumanCheck">‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏ß‡πà‡∏≤‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà‡∏´‡∏∏‡πà‡∏ô‡∏¢‡∏ô‡∏ï‡πå (‡∏û‡∏¥‡∏°‡∏û‡πå‡∏Ñ‡∏≥‡∏ß‡πà‡∏≤ ‚Äú‡∏™‡∏ï‡∏á.‚Äù)</label>
            <input type="text" id="changeHumanCheck" placeholder="‡∏û‡∏¥‡∏°‡∏û‡πå‡∏Ñ‡∏≥‡∏ß‡πà‡∏≤ ‡∏™‡∏ï‡∏á." required>

            <div style="margin-top:10px;">
              <button type="submit">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô</button>
            </div>
            <div id="changeMsg" class="msg"></div>
          </form>
        </div>
      </div>
    </div>
  </main>

  <footer>
    <div class="container">
      <div>¬© 2025 Financial Audit ‚Ä¢ ‡∏™‡∏≥‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡∏ï‡∏£‡∏ß‡∏à‡πÄ‡∏á‡∏¥‡∏ô‡πÅ‡∏ú‡πà‡∏ô‡∏î‡∏¥‡∏ô</div>
      <div>Login system demo ‚Ä¢ LocalStorage only ‚Ä¢ ‡πÉ‡∏ä‡πâ‡∏£‡πà‡∏ß‡∏°‡∏Å‡∏±‡∏ö index.html / admin.html</div>
    </div>
  </footer>

  <script>
    // ---------- Shared user storage ----------
    function loadUsersFromStorage(){
      try{
        const raw = localStorage.getItem("fas-users");
        if(!raw) return null;
        return JSON.parse(raw);
      }catch(e){
        console.warn("‡πÇ‡∏´‡∏•‡∏î fas-users ‡πÑ‡∏°‡πà‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à", e);
        return null;
      }
    }
    function saveUsersToStorage(users){
      try{
        localStorage.setItem("fas-users", JSON.stringify(users));
      }catch(e){
        console.warn("‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å fas-users ‡πÑ‡∏°‡πà‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à", e);
      }
    }

    function seedDefaultUsersIfNeeded(){
      const existing = loadUsersFromStorage();
      if(existing && Array.isArray(existing) && existing.length > 0){
        return existing;
      }
      const seed = [
        {
          id:"super-admin-1",
          firstName:"Apiphuthanadet",
          lastName:"SuperAdmin",
          fullname:"Apiphuthanadet SuperAdmin",
          citizenId:"",
          govId:"",
          position:"‡∏ú‡∏π‡πâ‡∏î‡∏π‡πÅ‡∏•‡∏£‡∏∞‡∏ö‡∏ö‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î",
          email:"apipoooo@gmail.com",
          phone:"",
          password:"Apiphu17122558",
          status:"approved",
          role:"super_admin",
          createdAt:new Date().toISOString()
        },
        {
          id:"admin-1",
          firstName:"‡∏™‡∏°‡∏ä‡∏≤‡∏¢",
          lastName:"‡πÉ‡∏à‡∏î‡∏µ",
          fullname:"‡∏™‡∏°‡∏ä‡∏≤‡∏¢ ‡πÉ‡∏à‡∏î‡∏µ",
          citizenId:"",
          govId:"",
          position:"Admin ‡∏Å‡∏•‡∏∏‡πà‡∏°‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö",
          email:"somchai@example.com",
          phone:"",
          password:"12345678",
          status:"approved",
          role:"admin",
          createdAt:new Date().toISOString()
        },
        {
          id:"admin-2",
          firstName:"Admin",
          lastName:"One",
          fullname:"Admin1 ‡∏Å‡∏•‡∏∏‡πà‡∏°‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö",
          citizenId:"",
          govId:"",
          position:"Admin1",
          email:"admin1@example.com",
          phone:"",
          password:"admin001",
          status:"approved",
          role:"admin1",
          createdAt:new Date().toISOString()
        }
      ];
      saveUsersToStorage(seed);
      return seed;
    }

    function loadRequests(){
      try{
        const raw = localStorage.getItem("fas-requests");
        if(!raw) return [];
        return JSON.parse(raw);
      }catch(e){
        console.warn("‡πÇ‡∏´‡∏•‡∏î fas-requests ‡πÑ‡∏°‡πà‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à", e);
        return [];
      }
    }
    function saveRequests(requests){
      try{
        localStorage.setItem("fas-requests", JSON.stringify(requests));
      }catch(e){
        console.warn("‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å fas-requests ‡πÑ‡∏°‡πà‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à", e);
      }
    }

    // session: fas-session = { email, loginAt, expiresAt, remember }
    function saveSession(email, remember){
      const now = Date.now();
      const SIX_MONTHS_MS = 1000 * 60 * 60 * 24 * 180;
      const session = {
        email,
        loginAt: now,
        remember: !!remember,
        expiresAt: remember ? now + SIX_MONTHS_MS : now + 1000 * 60 * 60 * 4 // 4 ‡∏ä‡∏°. ‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà remember
      };
      try{
        localStorage.setItem("fas-session", JSON.stringify(session));
      }catch(e){
        console.warn("‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å fas-session ‡πÑ‡∏°‡πà‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à", e);
      }
    }

    function loadSession(){
      try{
        const raw = localStorage.getItem("fas-session");
        if(!raw) return null;
        const sess = JSON.parse(raw);
        if(sess.expiresAt && Date.now() > sess.expiresAt){
          localStorage.removeItem("fas-session");
          return null;
        }
        return sess;
      }catch(e){
        console.warn("‡πÇ‡∏´‡∏•‡∏î fas-session ‡πÑ‡∏°‡πà‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à", e);
        return null;
      }
    }

    const store = {
      users: seedDefaultUsersIfNeeded(),
      requests: loadRequests(),
      currentUser: null
    };

    const existingSession = loadSession();
    if(existingSession){
      const u = store.users.find(x => x.email === existingSession.email);
      if(u){
        store.currentUser = u;
        const loginStatus = document.getElementById("loginStatus");
        if(loginStatus){
          loginStatus.style.display = "inline-block";
          loginStatus.classList.add("status-approved");
          loginStatus.textContent = `‡∏•‡πá‡∏≠‡∏Å‡∏≠‡∏¥‡∏ô‡πÅ‡∏•‡πâ‡∏ß‡πÉ‡∏ô‡∏£‡∏∞‡∏ö‡∏ö: ${u.fullname || u.email}`;
        }
      }
    }

    // ---------- Login ----------
    const loginForm = document.getElementById("loginForm");
    if(loginForm){
      loginForm.addEventListener("submit", function(e){
        e.preventDefault();
        if(!confirm("‡∏Ñ‡∏∏‡∏ì‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö‡πÉ‡∏ä‡πà‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà?")) return;

        const email = document.getElementById("loginEmail").value.trim();
        const password = document.getElementById("loginPassword").value.trim();
        const remember = document.getElementById("rememberMe").checked;
        const isHuman = document.getElementById("loginHuman").checked;
        const msg = document.getElementById("loginMsg");
        const statusEl = document.getElementById("loginStatus");

        msg.textContent = "";
        if(statusEl){
          statusEl.style.display = "none";
          statusEl.className = "status-badge";
        }

        if(!isHuman){
          msg.textContent = "‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏ß‡πà‡∏≤‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà‡∏´‡∏∏‡πà‡∏ô‡∏¢‡∏ô‡∏ï‡πå";
          return;
        }

        const user = store.users.find(u => u.email === email);
        if(!user){
          msg.textContent = "‚ùå ‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡πÉ‡∏ô‡∏£‡∏∞‡∏ö‡∏ö";
          return;
        }

        if(user.status !== "approved"){
          msg.textContent = "‚ö†Ô∏è ‡∏ö‡∏±‡∏ç‡∏ä‡∏µ‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏ú‡πà‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥‡∏à‡∏≤‡∏Å super_admin / admin / admin1";
          if(statusEl){
            statusEl.style.display = "inline-block";
            statusEl.classList.add("status-pending");
            statusEl.textContent = "‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏ö‡∏±‡∏ç‡∏ä‡∏µ: pending (‡∏£‡∏≠‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥)";
          }
          return;
        }

        if(user.password !== password){
          msg.textContent = "‚ùå ‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á";
          return;
        }

        saveSession(user.email, remember);
        store.currentUser = user;
        msg.textContent = "‚úÖ ‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÑ‡∏õ‡∏´‡∏ô‡πâ‡∏≤‡πÅ‡∏£‡∏Å...";
        if(statusEl){
          statusEl.style.display = "inline-block";
          statusEl.classList.add("status-approved");
          statusEl.textContent =
            `‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö‡πÅ‡∏•‡πâ‡∏ß: ${user.fullname || user.email} ‚Ä¢ role: ${user.role}`;
        }

        setTimeout(() => {
          window.location.href = "index.html";
        }, 900);
      });
    }

    // ---------- Register ----------
    const registerForm = document.getElementById("registerForm");
    if(registerForm){
      registerForm.addEventListener("submit", function(e){
        e.preventDefault();
        if(!confirm("‡∏Ñ‡∏∏‡∏ì‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡∏™‡πà‡∏á‡∏Ñ‡∏≥‡∏Ç‡∏≠‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô‡πÉ‡∏ä‡πà‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà?")) return;

        const firstName = document.getElementById("regFirstName").value.trim();
        const lastName = document.getElementById("regLastName").value.trim();
        const citizenId = document.getElementById("regCitizenId").value.trim();
        const govId = document.getElementById("regGovId").value.trim();
        const position = document.getElementById("regPosition").value.trim();
        const email = document.getElementById("regEmail").value.trim();
        const phone = document.getElementById("regPhone").value.trim();
        const password = document.getElementById("regPassword").value;
        const password2 = document.getElementById("regPassword2").value;
        const human = document.getElementById("regHumanCheck").value.trim();
        const msg = document.getElementById("regMsg");
        const badge = document.getElementById("regStatusBadge");

        msg.textContent = "";
        badge.style.display = "none";

        if(!firstName || !lastName || !citizenId || !govId || !position || !email || !phone){
          msg.textContent = "‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÉ‡∏´‡πâ‡∏Ñ‡∏£‡∏ö‡∏ó‡∏∏‡∏Å‡∏ä‡πà‡∏≠‡∏á";
          return;
        }
        if(password.length < 8){
          msg.textContent = "‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô‡∏ï‡πâ‡∏≠‡∏á‡∏°‡∏µ‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ô‡πâ‡∏≠‡∏¢ 8 ‡∏ï‡∏±‡∏ß‡∏≠‡∏±‡∏Å‡∏©‡∏£";
          return;
        }
        if(password !== password2){
          msg.textContent = "‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô‡πÅ‡∏•‡∏∞‡∏Å‡∏≤‡∏£‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡πÑ‡∏°‡πà‡∏ï‡∏£‡∏á‡∏Å‡∏±‡∏ô";
          return;
        }
        if(human !== "‡∏™‡∏ï‡∏á."){
          msg.textContent = "‡∏Å‡∏≤‡∏£‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏ß‡πà‡∏≤‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà‡∏´‡∏∏‡πà‡∏ô‡∏¢‡∏ô‡∏ï‡πå‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏û‡∏¥‡∏°‡∏û‡πå‡∏Ñ‡∏≥‡∏ß‡πà‡∏≤ ‚Äú‡∏™‡∏ï‡∏á.‚Äù";
          return;
        }
        if(store.users.some(u => u.email === email)){
          msg.textContent = "‡∏≠‡∏µ‡πÄ‡∏°‡∏•‡∏ô‡∏µ‡πâ‡∏ñ‡∏π‡∏Å‡πÉ‡∏ä‡πâ‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô‡πÅ‡∏•‡πâ‡∏ß‡πÉ‡∏ô‡∏£‡∏∞‡∏ö‡∏ö";
          return;
        }

        const newUser = {
          id:"user-" + Date.now(),
          firstName,
          lastName,
          fullname: firstName + " " + lastName,
          citizenId,
          govId,
          position,
          email,
          phone,
          password,
          status:"pending",
          role:"user",
          createdAt:new Date().toISOString()
        };
        store.users.push(newUser);
        saveUsersToStorage(store.users);

        const req = {
          id:"req-" + Date.now(),
          type:"register",
          email,
          createdAt:new Date().toISOString(),
          status:"pending",
          payload:{
            firstName,lastName,citizenId,govId,position,phone
          }
        };
        store.requests.push(req);
        saveRequests(store.requests);

        msg.textContent = "‚úÖ ‡∏™‡πà‡∏á‡∏Ñ‡∏≥‡∏Ç‡∏≠‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô‡πÅ‡∏•‡πâ‡∏ß ‡∏£‡∏≠ super_admin / admin / admin1 ‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥";
        badge.style.display = "inline-block";
      });
    }

    // ---------- Forgot password ----------
    const forgotForm = document.getElementById("forgotForm");
    if(forgotForm){
      forgotForm.addEventListener("submit", function(e){
        e.preventDefault();
        if(!confirm("‡∏Ñ‡∏∏‡∏ì‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡∏™‡πà‡∏á‡∏Ñ‡∏≥‡∏Ç‡∏≠‡∏•‡∏∑‡∏°‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô‡πÉ‡∏ä‡πà‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà?")) return;

        const email = document.getElementById("forgotEmail").value.trim();
        const citizenId = document.getElementById("forgotCitizenId").value.trim();
        const govId = document.getElementById("forgotGovId").value.trim();
        const newPw = document.getElementById("forgotNewPassword").value;
        const newPw2 = document.getElementById("forgotNewPassword2").value;
        const human = document.getElementById("forgotHumanCheck").value.trim();
        const msg = document.getElementById("forgotMsg");

        msg.textContent = "";

        if(!email || !citizenId || !govId){
          msg.textContent = "‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÉ‡∏´‡πâ‡∏Ñ‡∏£‡∏ö‡∏ñ‡πâ‡∏ß‡∏ô";
          return;
        }
        if(newPw.length < 8){
          msg.textContent = "‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô‡πÉ‡∏´‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏°‡∏µ‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ô‡πâ‡∏≠‡∏¢ 8 ‡∏ï‡∏±‡∏ß‡∏≠‡∏±‡∏Å‡∏©‡∏£";
          return;
        }
        if(newPw !== newPw2){
          msg.textContent = "‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô‡πÉ‡∏´‡∏°‡πà‡πÅ‡∏•‡∏∞‡∏Å‡∏≤‡∏£‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡πÑ‡∏°‡πà‡∏ï‡∏£‡∏á‡∏Å‡∏±‡∏ô";
          return;
        }
        if(human !== "‡∏™‡∏ï‡∏á."){
          msg.textContent = "‡∏Å‡∏≤‡∏£‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏ß‡πà‡∏≤‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà‡∏´‡∏∏‡πà‡∏ô‡∏¢‡∏ô‡∏ï‡πå‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏û‡∏¥‡∏°‡∏û‡πå‡∏Ñ‡∏≥‡∏ß‡πà‡∏≤ ‚Äú‡∏™‡∏ï‡∏á.‚Äù";
          return;
        }

        const user = store.users.find(u => u.email === email);
        if(!user){
          msg.textContent = "‚ùå ‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏ï‡∏≤‡∏°‡∏≠‡∏µ‡πÄ‡∏°‡∏•‡∏ó‡∏µ‡πà‡∏£‡∏∞‡∏ö‡∏∏";
          return;
        }

        // ‡∏ñ‡πâ‡∏≤‡∏°‡∏µ citizenId/govId ‡πÉ‡∏ô‡∏£‡∏∞‡∏ö‡∏ö ‡πÉ‡∏´‡πâ‡πÄ‡∏ä‡πá‡∏Ñ
        if(user.citizenId && user.citizenId !== citizenId){
          msg.textContent = "‡πÄ‡∏•‡∏Ç‡∏ö‡∏±‡∏ï‡∏£‡∏õ‡∏£‡∏∞‡∏ä‡∏≤‡∏ä‡∏ô‡πÑ‡∏°‡πà‡∏ï‡∏£‡∏á‡∏Å‡∏±‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÉ‡∏ô‡∏£‡∏∞‡∏ö‡∏ö";
          return;
        }
        if(user.govId && user.govId !== govId){
          msg.textContent = "‡πÄ‡∏•‡∏Ç‡∏ö‡∏±‡∏ï‡∏£‡∏Ç‡πâ‡∏≤‡∏£‡∏≤‡∏ä‡∏Å‡∏≤‡∏£‡πÑ‡∏°‡πà‡∏ï‡∏£‡∏á‡∏Å‡∏±‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÉ‡∏ô‡∏£‡∏∞‡∏ö‡∏ö";
          return;
        }

        const req = {
          id:"req-reset-" + Date.now(),
          type:"reset-password",
          email,
          createdAt:new Date().toISOString(),
          status:"pending",
          requestedPassword:newPw
        };
        store.requests.push(req);
        saveRequests(store.requests);

        msg.textContent = "‚úÖ ‡∏™‡πà‡∏á‡∏Ñ‡∏≥‡∏Ç‡∏≠‡∏•‡∏∑‡∏°‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô‡πÅ‡∏•‡πâ‡∏ß ‡∏£‡∏≠ super_admin / admin / admin1 ‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥‡πÅ‡∏•‡∏∞‡∏ï‡∏±‡πâ‡∏á‡∏£‡∏´‡∏±‡∏™‡πÉ‡∏´‡∏°‡πà‡πÉ‡∏´‡πâ";
      });
    }

    // ---------- Change password ----------
    const changeForm = document.getElementById("changeForm");
    if(changeForm){
      changeForm.addEventListener("submit", function(e){
        e.preventDefault();
        if(!confirm("‡∏Ñ‡∏∏‡∏ì‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô‡πÉ‡∏ä‡πà‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà?")) return;

        const email = document.getElementById("changeEmail").value.trim();
        const oldPw = document.getElementById("changeOldPassword").value;
        const newPw = document.getElementById("changeNewPassword").value;
        const newPw2 = document.getElementById("changeNewPassword2").value;
        const human = document.getElementById("changeHumanCheck").value.trim();
        const msg = document.getElementById("changeMsg");

        msg.textContent = "";

        if(!email || !oldPw || !newPw || !newPw2){
          msg.textContent = "‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÉ‡∏´‡πâ‡∏Ñ‡∏£‡∏ö‡∏ñ‡πâ‡∏ß‡∏ô";
          return;
        }
        if(newPw.length < 8){
          msg.textContent = "‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô‡πÉ‡∏´‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏°‡∏µ‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ô‡πâ‡∏≠‡∏¢ 8 ‡∏ï‡∏±‡∏ß‡∏≠‡∏±‡∏Å‡∏©‡∏£";
          return;
        }
        if(newPw !== newPw2){
          msg.textContent = "‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô‡πÉ‡∏´‡∏°‡πà‡πÅ‡∏•‡∏∞‡∏Å‡∏≤‡∏£‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡πÑ‡∏°‡πà‡∏ï‡∏£‡∏á‡∏Å‡∏±‡∏ô";
          return;
        }
        if(human !== "‡∏™‡∏ï‡∏á."){
          msg.textContent = "‡∏Å‡∏≤‡∏£‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏ß‡πà‡∏≤‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà‡∏´‡∏∏‡πà‡∏ô‡∏¢‡∏ô‡∏ï‡πå‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏û‡∏¥‡∏°‡∏û‡πå‡∏Ñ‡∏≥‡∏ß‡πà‡∏≤ ‚Äú‡∏™‡∏ï‡∏á.‚Äù";
          return;
        }

        const user = store.users.find(u => u.email === email);
        if(!user){
          msg.textContent = "‚ùå ‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡πÉ‡∏ô‡∏£‡∏∞‡∏ö‡∏ö";
          return;
        }
        if(user.password !== oldPw){
          msg.textContent = "‚ùå ‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô‡πÄ‡∏î‡∏¥‡∏°‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á";
          return;
        }

        user.password = newPw;
        saveUsersToStorage(store.users);

        // ‡∏ñ‡πâ‡∏≤‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏•‡πá‡∏≠‡∏Å‡∏≠‡∏¥‡∏ô‡∏≠‡∏¢‡∏π‡πà account ‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏Å‡∏±‡∏ô ‡πÉ‡∏´‡πâ refresh session ‡∏´‡∏ô‡πà‡∏≠‡∏¢
        const sess = loadSession();
        if(sess && sess.email === email){
          saveSession(email, sess.remember);
        }

        msg.textContent = "‚úÖ ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢‡πÅ‡∏•‡πâ‡∏ß ‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÉ‡∏ä‡πâ‡∏£‡∏´‡∏±‡∏™‡πÉ‡∏´‡∏°‡πà‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö‡πÑ‡∏î‡πâ‡∏ó‡∏±‡∏ô‡∏ó‡∏µ";
      });
    }
  </script>
</body>
</html>
