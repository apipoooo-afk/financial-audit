<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8">
  <title>‡∏≠‡∏õ‡∏ó. 8.15 | Financial Audit System</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <style>
    :root{
      --bg:#060818;
      --card:#11152b;
      --border:#262b46;
      --primary:#0d47a1;
      --primary2:#42a5f5;
      --accent:#ffd54f;
      --text:#f5f7ff;
      --muted:#a3acc7;
      --radius:14px;
      --shadow:0 8px 24px rgba(0,0,0,0.45);
    }

    *{ box-sizing:border-box; }

    body{
      margin:0;
      font-family:"Segoe UI", Tahoma, sans-serif;
      background:var(--bg);
      color:var(--text);
    }

    header{
      padding:20px;
      text-align:center;
      background:linear-gradient(120deg,#7b1e3c,#0d47a1,#42a5f5);
      box-shadow:var(--shadow);
    }
    header h1{
      margin:0;
      font-size:26px;
      font-weight:800;
    }
    header p{
      margin:4px 0 0;
      font-size:13px;
      opacity:0.9;
    }

    .container{
      max-width:960px;
      margin:24px auto;
      padding:20px;
      background:var(--card);
      border-radius:var(--radius);
      box-shadow:var(--shadow);
    }

    h2{
      margin-top:0;
      font-size:22px;
      border-bottom:1px solid var(--border);
      padding-bottom:8px;
    }

    h3{
      margin-top:20px;
      font-size:18px;
      border-left:3px solid var(--accent);
      padding-left:8px;
    }

    label{
      display:block;
      font-size:14px;
      color:var(--muted);
      margin-top:6px;
    }

    select, input[type="text"], input[type="date"]{
      width:100%;
      padding:10px 12px;
      margin:6px 0 12px;
      background:#0b1024;
      border:1px solid var(--border);
      color:var(--text);
      border-radius:var(--radius);
    }

    .row{
      display:flex;
      gap:12px;
      flex-wrap:wrap;
    }
    .col-6{ flex:1 1 48%; min-width:220px; }

    .btn{
      display:block;
      width:100%;
      padding:12px 14px;
      margin:8px 0;
      text-align:center;
      font-weight:700;
      background:var(--primary);
      border-radius:var(--radius);
      color:white;
      text-decoration:none;
      box-shadow:var(--shadow);
      cursor:pointer;
      border:none;
    }
    .btn:hover{ background:var(--primary2); }

    .btn-secondary{
      background:#212642;
    }
    .btn-secondary:hover{
      background:#303757;
    }

    .stats-box{
      background:#0b1024;
      border:1px solid var(--border);
      padding:12px;
      border-radius:var(--radius);
      margin-top:12px;
      font-size:13px;
    }

    .auditor-block{
      border:1px dashed var(--border);
      border-radius:var(--radius);
      padding:10px;
      margin-bottom:8px;
    }

    .summary-box{
      margin-top:10px;
      padding:10px;
      border-radius:var(--radius);
      background:#0b1024;
      border:1px solid var(--border);
      font-size:13px;
      color:var(--muted);
    }
    .summary-box strong{ color:var(--accent); }
  </style>

  <script>
    // ‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ ‡∏≠‡∏õ‡∏ó. 8.15
    document.addEventListener("DOMContentLoaded", () => {
      // current online (mock)
      const current = Math.floor(Math.random()*7)+3;
      document.querySelectorAll(".currentUser").forEach(e=>e.textContent=current);

      // cumulative
      let total = localStorage.getItem("opta15_total") || "0";
      total = parseInt(total,10) + 1;
      localStorage.setItem("opta15_total", total);
      document.querySelectorAll(".totalUser").forEach(e=>e.textContent=total);

      // ‡πÅ‡∏™‡∏î‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î‡πÉ‡∏ô‡πÄ‡∏°‡∏ô‡∏π 2
      renderLastSaved();
    });

    let auditorCount = 0;
    function addAuditor(){
      if(auditorCount >= 6){
        alert("‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡πÑ‡∏î‡πâ‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î 6 ‡∏Ñ‡∏ô");
        return;
      }
      auditorCount++;
      const wrap = document.getElementById("auditors");
      const box = document.createElement("div");
      box.className = "auditor-block";
      box.innerHTML = `
        <div><strong>‡∏ú‡∏π‡πâ‡∏ï‡∏£‡∏ß‡∏à‡∏Ñ‡∏ô‡∏ó‡∏µ‡πà ${auditorCount}</strong></div>
        <input type="text" placeholder="‡∏ä‡∏∑‡πà‡∏≠ - ‡∏ô‡∏≤‡∏°‡∏™‡∏Å‡∏∏‡∏•" class="auditor-name">
        <input type="text" placeholder="‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á" class="auditor-pos">
      `;
      wrap.appendChild(box);
    }

    function saveForm(){
      const unit = document.getElementById("unitName").value;
      const type = document.getElementById("lgType").value;
      const amp = document.getElementById("amphoe").value;
      const prov = document.getElementById("province").value;
      const yearCur = document.getElementById("yearCur").value;
      const yearPrev = document.getElementById("yearPrev").value;
      const dateAudit = document.getElementById("auditDate").value;

      const auditorNames = Array.from(document.querySelectorAll(".auditor-name")).map(i=>i.value.trim());
      const auditorPos = Array.from(document.querySelectorAll(".auditor-pos")).map(i=>i.value.trim());

      const data = {
        unit,
        type,
        amp,
        prov,
        yearCur,
        yearPrev,
        dateAudit,
        auditors: auditorNames.map((n,idx)=>({name:n, pos:auditorPos[idx]||""})),
        savedAt: new Date().toISOString()
      };

      localStorage.setItem("opta15_last_record", JSON.stringify(data));
      alert("‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢‡πÅ‡∏•‡πâ‡∏ß (‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏∞‡πÑ‡∏õ‡πÅ‡∏™‡∏î‡∏á‡πÉ‡∏ô‡πÄ‡∏°‡∏ô‡∏π 2)");
      renderLastSaved();
    }

    function renderLastSaved(){
      const box = document.getElementById("lastSavedBox");
      const raw = localStorage.getItem("opta15_last_record");
      if(!box) return;
      if(!raw){
        box.innerHTML = "‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏µ‡πà‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏à‡∏≤‡∏Å‡πÄ‡∏°‡∏ô‡∏π 1";
        return;
      }
      try{
        const d = JSON.parse(raw);
        const auditorCountLocal = (d.auditors || []).filter(a=>a.name).length;
        box.innerHTML = `
          <div><strong>‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏£‡∏±‡∏ö‡∏ï‡∏£‡∏ß‡∏à:</strong> ${d.unit || "-"} (${d.type || "-"})</div>
          <div><strong>‡∏≠‡∏≥‡πÄ‡∏†‡∏≠/‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏±‡∏î:</strong> ${d.amp || "-"} / ${d.prov || "-"}</div>
          <div><strong>‡∏õ‡∏µ‡∏á‡∏ö‡∏õ‡∏£‡∏∞‡∏°‡∏≤‡∏ì:</strong> ‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô ${d.yearCur || "-"} | ‡∏õ‡∏µ‡∏Å‡πà‡∏≠‡∏ô ${d.yearPrev || "-"}</div>
          <div><strong>‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö:</strong> ${d.dateAudit || "-"}</div>
          <div><strong>‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏ú‡∏π‡πâ‡∏ï‡∏£‡∏ß‡∏à:</strong> ${auditorCountLocal} ‡∏Ñ‡∏ô</div>
        `;
      }catch(e){
        box.innerHTML = "‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏≠‡πà‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏µ‡πà‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÑ‡∏î‡πâ";
      }
    }
  </script>
</head>
<body>

  <header>
    <h1>‡∏≠‡∏õ‡∏ó. 8.15 ‚Äì ‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡πÅ‡∏ö‡∏ö‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö</h1>
    <p>Local Government Financial Audit ‚Äì Form 8.15</p>
  </header>

  <!-- ‡πÄ‡∏°‡∏ô‡∏π 1 -->
  <div class="container">
    <h2>‡πÄ‡∏°‡∏ô‡∏π 1 : ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Å‡∏≤‡∏£‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡πÄ‡∏ö‡∏∑‡πâ‡∏≠‡∏á‡∏ï‡πâ‡∏ô</h2>

    <div class="row">
      <div class="col-6">
        <label>‡∏ä‡∏∑‡πà‡∏≠‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏£‡∏±‡∏ö‡∏ï‡∏£‡∏ß‡∏à</label>
        <select id="unitName">
          <option value="">-- ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å --</option>
          <option>‡πÄ‡∏ó‡∏®‡∏ö‡∏≤‡∏•‡πÄ‡∏°‡∏∑‡∏≠‡∏á‡∏®‡∏£‡∏µ‡∏™‡∏∞‡πÄ‡∏Å‡∏©</option>
          <option>‡πÄ‡∏ó‡∏®‡∏ö‡∏≤‡∏•‡∏ï‡∏≥‡∏ö‡∏•‡∏ô‡πâ‡∏≥‡∏Ñ‡∏≥</option>
          <option>‡∏≠‡∏á‡∏Ñ‡πå‡∏Å‡∏≤‡∏£‡∏ö‡∏£‡∏¥‡∏´‡∏≤‡∏£‡∏™‡πà‡∏ß‡∏ô‡∏ï‡∏≥‡∏ö‡∏•‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á</option>
        </select>
      </div>
      <div class="col-6">
        <label>‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó</label>
        <select id="lgType">
          <option value="">-- ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å --</option>
          <option>‡πÄ‡∏ó‡∏®‡∏ö‡∏≤‡∏•</option>
          <option>‡∏≠‡∏á‡∏Ñ‡πå‡∏Å‡∏≤‡∏£‡∏ö‡∏£‡∏¥‡∏´‡∏≤‡∏£‡∏™‡πà‡∏ß‡∏ô‡∏ï‡∏≥‡∏ö‡∏•</option>
          <option>‡∏≠‡∏á‡∏Ñ‡πå‡∏Å‡∏≤‡∏£‡∏ö‡∏£‡∏¥‡∏´‡∏≤‡∏£‡∏™‡πà‡∏ß‡∏ô‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏±‡∏î</option>
        </select>
      </div>
    </div>

    <div class="row">
      <div class="col-6">
        <label>‡∏≠‡∏≥‡πÄ‡∏†‡∏≠</label>
        <select id="amphoe">
          <option value="">-- ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å --</option>
          <option>‡πÄ‡∏°‡∏∑‡∏≠‡∏á‡∏®‡∏£‡∏µ‡∏™‡∏∞‡πÄ‡∏Å‡∏©</option>
          <option>‡∏Å‡∏±‡∏ô‡∏ó‡∏£‡∏≤‡∏£‡∏°‡∏¢‡πå</option>
          <option>‡∏Å‡∏±‡∏ô‡∏ó‡∏£‡∏•‡∏±‡∏Å‡∏©‡πå</option>
        </select>
      </div>
      <div class="col-6">
        <label>‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏±‡∏î</label>
        <select id="province">
          <option>‡∏®‡∏£‡∏µ‡∏™‡∏∞‡πÄ‡∏Å‡∏©</option>
          <option>‡∏≠‡∏∏‡∏ö‡∏•‡∏£‡∏≤‡∏ä‡∏ò‡∏≤‡∏ô‡∏µ</option>
          <option>‡∏¢‡πÇ‡∏™‡∏ò‡∏£</option>
        </select>
      </div>
    </div>

    <div class="row">
      <div class="col-6">
        <label>‡∏õ‡∏µ‡∏á‡∏ö‡∏õ‡∏£‡∏∞‡∏°‡∏≤‡∏ì‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô</label>
        <select id="yearCur">
          <option>2569</option>
          <option>2568</option>
          <option>2567</option>
        </select>
      </div>
      <div class="col-6">
        <label>‡∏õ‡∏µ‡∏á‡∏ö‡∏õ‡∏£‡∏∞‡∏°‡∏≤‡∏ì‡∏õ‡∏µ‡∏Å‡πà‡∏≠‡∏ô</label>
        <select id="yearPrev">
          <option>2568</option>
          <option>2567</option>
          <option>2566</option>
        </select>
      </div>
    </div>

    <h3>‡∏ú‡∏π‡πâ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö (‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÑ‡∏î‡πâ‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î 6 ‡∏Ñ‡∏ô)</h3>
    <div id="auditors"></div>
    <button type="button" class="btn btn-secondary" onclick="addAuditor()">+ ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö</button>

    <h3>‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö</h3>
    <!-- ‡∏£‡∏∞‡∏ö‡∏ö‡∏õ‡∏è‡∏¥‡∏ó‡∏¥‡∏ô 10 ‡∏õ‡∏µ (browser date picker ‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡∏ä‡πà‡∏ß‡∏á‡∏Å‡∏ß‡πâ‡∏≤‡∏á‡∏≠‡∏¢‡∏π‡πà‡πÅ‡∏•‡πâ‡∏ß) -->
    <input type="date" id="auditDate">

    <button type="button" class="btn" onclick="saveForm()">üíæ ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• (‡πÑ‡∏õ‡πÅ‡∏™‡∏î‡∏á‡πÉ‡∏ô‡πÄ‡∏°‡∏ô‡∏π 2)</button>

    <div class="row">
      <div class="col-6">
        <a href="index.html" class="btn btn-secondary">‚¨Ö ‡∏Å‡∏•‡∏±‡∏ö‡∏´‡∏ô‡πâ‡∏≤‡πÅ‡∏£‡∏Å</a>
      </div>
      <div class="col-6">
        <a href="fa-lg-fieldwork.html" class="btn btn-secondary">üìã ‡∏Å‡∏•‡∏±‡∏ö‡πÑ‡∏õ‡∏´‡∏ô‡πâ‡∏≤ ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏õ‡∏è‡∏¥‡∏ö‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö</a>
      </div>
    </div>

    <div class="stats-box">
      üëÅ ‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô: <span class="currentUser"></span><br>
      üîÑ ‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏™‡∏∞‡∏™‡∏°: <span class="totalUser"></span>
    </div>
  </div>

  <!-- ‡πÄ‡∏°‡∏ô‡∏π 2 -->
  <div class="container">
    <h2>‡πÄ‡∏°‡∏ô‡∏π 2 : ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÅ‡∏ö‡∏ö ‡∏≠‡∏õ‡∏ó. 8.15 ‡πÅ‡∏•‡∏∞‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏≤‡∏Å‡πÄ‡∏°‡∏ô‡∏π 1</h2>

    <!-- 2.1 ‡πÅ‡∏ö‡∏ö ‡∏≠‡∏õ‡∏ó. ‡∏°‡∏µ 5 ‡∏õ‡∏∏‡πà‡∏° -->
    <button class="btn" onclick="window.location.href='fa-lg-form-8-15-main.html'">
      ‡πÅ‡∏ö‡∏ö ‡∏≠‡∏õ‡∏ó. 8.15
    </button>
    <button class="btn" onclick="window.location.href='fa-lg-form-8-15-1.html'">
      ‡πÅ‡∏ö‡∏ö ‡∏≠‡∏õ‡∏ó. 8.15.1
    </button>
    <button class="btn" onclick="window.location.href='fa-lg-form-8-15-2.html'">
      ‡πÅ‡∏ö‡∏ö ‡∏≠‡∏õ‡∏ó. 8.15.2
    </button>
    <button class="btn" onclick="window.location.href='fa-lg-form-8-15-3.html'">
      ‡πÅ‡∏ö‡∏ö ‡∏≠‡∏õ‡∏ó. 8.15.3
    </button>
    <button class="btn" onclick="window.location.href='fa-lg-form-8-15-4.html'">
      ‡πÅ‡∏ö‡∏ö ‡∏≠‡∏õ‡∏ó. 8.15.4
    </button>

    <!-- 2.2 ‡∏õ‡∏∏‡πà‡∏°‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÅ‡∏ö‡∏ö ‡∏≠‡∏õ‡∏ó. 8.15‚Ä¶. (Excel) -->
    <a class="btn btn-secondary" href="excel-template/opto-8-15.xlsx" target="_blank">
      üìä ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÅ‡∏ö‡∏ö ‡∏≠‡∏õ‡∏ó. 8.15.x (Excel Template)
    </a>

    <!-- ‡∏™‡∏£‡∏∏‡∏õ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î‡∏à‡∏≤‡∏Å‡πÄ‡∏°‡∏ô‡∏π 1 ‡πÉ‡∏´‡πâ‡πÄ‡∏´‡πá‡∏ô‡πÉ‡∏ô‡πÄ‡∏°‡∏ô‡∏π 2 ‡∏ï‡∏≤‡∏°‡∏Ç‡πâ‡∏≠ 1.9 -->
    <h3>‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î‡∏ó‡∏µ‡πà‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏à‡∏≤‡∏Å‡πÄ‡∏°‡∏ô‡∏π 1</h3>
    <div id="lastSavedBox" class="summary-box">
      <!-- ‡∏à‡∏∞‡∏ñ‡∏π‡∏Å‡πÄ‡∏ï‡∏¥‡∏°‡πÇ‡∏î‡∏¢ renderLastSaved() -->
    </div>

    <div class="row" style="margin-top:10px;">
      <div class="col-6">
        <a href="fa-lg-form-8-15.html" class="btn btn-secondary">‚¨Ö ‡∏Å‡∏•‡∏±‡∏ö‡πÄ‡∏°‡∏ô‡∏π 1</a>
      </div>
      <div class="col-6">
        <a href="index.html" class="btn btn-secondary">üè† ‡∏Å‡∏•‡∏±‡∏ö‡∏´‡∏ô‡πâ‡∏≤‡πÅ‡∏£‡∏Å</a>
      </div>
    </div>

    <div class="row">
      <div class="col-6">
        <a href="fa-lg-fieldwork.html" class="btn btn-secondary">üìã ‡∏Å‡∏•‡∏±‡∏ö‡πÑ‡∏õ‡∏´‡∏ô‡πâ‡∏≤ ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏õ‡∏è‡∏¥‡∏ö‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö</a>
      </div>
    </div>

    <div class="stats-box">
      üëÅ ‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô: <span class="currentUser"></span><br>
      üîÑ ‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏™‡∏∞‡∏™‡∏°: <span class="totalUser"></span>
    </div>
  </div>

</body>
</html>